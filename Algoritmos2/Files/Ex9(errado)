procedimento JuntaDoisArquivosOrdenadamente(s1, s2, s3: string)
var
    f1, f2, f3: sequencia de real
    x, y: real
    inseriuX, inseriuY: lógico
início
    se abre(f1, s1) e abre(f2, s2) e abre(f3, s3) então
        leia(f1, x)
        leia(f2, y)
        enquanto não fds(f1) e não fds(f2) faça
            se x > y então
                escreva(f3, y)
                leia(f2, y)
            senão
                se y > x então
                    escreva(f3, x)
                    leia(f1, x)
                senão
                    escreva(f3, x)
                    leia(f1, x)
                    leia(f2, y)
                fim se  
            fim se
        fim enquanto
        inseriuX <- falso
        se fds(f1) então
            enquanto não fds(f2) faça
                se x < y então
                    escreva(f3, x)  
                    fecha(f1)
                    inseriuX <- verdadeiro
                fim se
                escreva(f3, y)
                leia(f2, y)
            fim enquanto
            se não inseriuX então
                escreva(f3,x)
            fim se
            fecha(f1)
            fecha(f2)
            fecha(f3)
        senão
            enquanto não fds(f1) faça
                se y < x então
                    escreva(f3, y)
                    fecha(f2)
                    inseriuY <- verdadeiro
                fim se
                escreva(f3, x)
                leia(f1, x)
            fim enquanto
            se não inseriuY então
                escreva(f3, y)
            fim se
            fecha(f1)
        fecha(f1)
        fecha(f2)
        fecha(f3)
        fim se
    fim se
fim procedimento    